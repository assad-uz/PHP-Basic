Q: DELIMITER // এটি কেন ব্যবহার করা হয়?
A:
DELIMITER // (এবং এরপর DELIMITER ; দিয়ে আবার সেমিকোলনকে ডিফল্ট ডিলিমিটার-এ ফিরিয়ে আনা) MySQL-এ একটি খুবই গুরুত্বপূর্ণ কমান্ড, বিশেষ করে যখন আপনি কম্পাউন্ড SQL স্টেটমেন্ট (compound SQL statements) যেমন ট্রিগার (Triggers), স্টোরড প্রসিডিউর (Stored Procedures), এবং ফাংশন (Functions) তৈরি করেন।

এটি ব্যবহার করার প্রধান কারণটি হলো:

MySQL-এর ডিফল্ট ডিলিমিটার (কমান্ড সেপারেটর) হলো সেমিকোলন (;)। এর মানে হলো, MySQL যখন একটি সেমিকোলন দেখে, তখন সে ধরে নেয় যে একটি SQL কমান্ড শেষ হয়েছে এবং সেটি এক্সিকিউট করার চেষ্টা করে।

কিন্তু, ট্রিগার, স্টোরড প্রসিডিউর বা ফাংশনের বডির (BEGIN...END এর মাঝের অংশ) ভিতরেও একাধিক SQL স্টেটমেন্ট থাকে, এবং সেই প্রতিটি স্টেটমেন্টের শেষেও একটি করে সেমিকোলন থাকে।

সমস্যাটা হয় এখানেই:

যদি আপনি DELIMITER // ব্যবহার না করেন এবং সরাসরি একটি ট্রিগার তৈরি করার চেষ্টা করেন:

SQL

CREATE TRIGGER my_trigger
AFTER INSERT ON my_table
FOR EACH ROW
BEGIN
    INSERT INTO log_table (message) VALUES ('New row inserted'); -- এখানে একটি সেমিকোলন
END; -- এই সেমিকোলনটি
MySQL প্রথম INSERT INTO log_table ... লাইনের শেষের সেমিকোলনটিকে ট্রিগার তৈরির কমান্ডের শেষ বলে ধরে নেবে। ফলে, END; লাইনটি অসম্পূর্ণ কমান্ড হিসেবে বিবেচিত হবে এবং এটি একটি সিনট্যাক্স এরর (syntax error) দেবে। ট্রিগারটি সঠিকভাবে তৈরি হবে না।

DELIMITER // ব্যবহার করে এই সমস্যা সমাধান করা হয়:

DELIMITER //: এই কমান্ডটি MySQL-কে বলে যে এখন থেকে, সেমিকোলন (;) আর কমান্ডের শেষ নির্দেশ করবে না। বরং, এখন থেকে কমান্ডের শেষ নির্দেশ করবে // (বা আপনি যে ক্যারেক্টার বা স্ট্রিং সেট করবেন)।

এর ফলে, যখন আপনি ট্রিগারের পুরো কোডটি লিখবেন, তখন MySQL বডির ভিতরের সেমিকোলনগুলিকে কমান্ডের শেষ বলে মনে করবে না। সে CREATE TRIGGER স্টেটমেন্টটি END // পর্যন্ত একটি একক স্টেটমেন্ট হিসেবে বিবেচনা করবে।

DELIMITER ;: ট্রিগার বা স্টোরড প্রসিডিউর তৈরি হওয়ার পর, এই কমান্ডটি ব্যবহার করে MySQL-এর ডিলিমিটারকে আবার তার ডিফল্ট সেমিকোলন (;) এ ফিরিয়ে আনা হয়, যাতে এর পরের সাধারণ SQL কমান্ডগুলি সঠিকভাবে এক্সিকিউট হতে পারে।

সহজ কথায়, DELIMITER // হলো একটি অস্থায়ী উপায় যাতে MySQL একটি মাল্টি-লাইন SQL স্টেটমেন্টকে (যেমন ট্রিগার) একটি একক ব্লক হিসাবে প্রক্রিয়া করতে পারে, এর মধ্যে থাকা ছোট ছোট সেমিকোলন-টার্মিনেটেড স্টেটমেন্টগুলির দ্বারা বিভ্রান্ত না হয়ে।